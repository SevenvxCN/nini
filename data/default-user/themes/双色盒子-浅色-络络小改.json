{
    "name": "双色盒子-浅色-络络小改",
    "blur_strength": 0,
    "main_text_color": "rgba(45, 45, 45, 1)",
    "italics_text_color": "rgba(100, 100, 100, 1)",
    "underline_text_color": "rgba(221, 127, 206, 1)",
    "quote_text_color": "rgba(200, 84, 116, 1)",
    "blur_tint_color": "rgba(255, 255, 255, 1)",
    "chat_tint_color": "rgba(255, 255, 255, 0)",
    "user_mes_blur_tint_color": "rgba(255, 250, 248, 0.8)",
    "bot_mes_blur_tint_color": "rgba(255, 255, 255, 0.8)",
    "shadow_color": "rgba(78, 78, 78, 1)",
    "shadow_width": 0,
    "border_color": "rgba(235, 233, 232, 1)",
    "font_scale": 1.1,
    "fast_ui_mode": false,
    "waifuMode": false,
    "avatar_style": 1,
    "chat_display": 1,
    "toastr_position": "toast-top-center",
    "noShadows": true,
    "chat_width": 50,
    "timer_enabled": true,
    "timestamps_enabled": true,
    "timestamp_model_icon": true,
    "mesIDDisplay_enabled": true,
    "hideChatAvatars_enabled": false,
    "message_token_count_enabled": true,
    "expand_message_actions": false,
    "enableZenSliders": false,
    "enableLabMode": false,
    "hotswap_enabled": true,
    "custom_css": "/*\n* 作者：KAKAA | Discord: @rech0_viixi\n* 发布社区：类脑ΟΔΥΣΣΕΙΑ（https://discord.com/channels/1134557553011998840/1340273995018141757）\n* 许可协议：CC BY-NC-SA 4.0\n* 二改分享需注明原作者\n* 禁止任何形式的商用及商用目的的引流！\n*/\n\n/* ！！！---全局---！！！ */\n/* 字体引入，可注释或更改 */\n@import url(\"https://static.zeoseven.com/zsft/288/main/result.css\");\n\nbody,\ncode:not([class*=\"hljs\"]) {\nfont-family: \"Source Han Sans SC VF\";\n}\n\n@supports (-webkit-touch-callout: none) {\n/* iOS 使用默认字体 */\nbody,\ncode:not([class*=\"hljs\"]) {\nfont-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n\"Helvetica Neue\", Arial, sans-serif;\n}\n}\n\n/* 主题色配置 */\n:root {\n--theme-color-1: var(--SmartThemeQuoteColor);\n/* 对应引用文本 */\n--theme-color-2: var(--SmartThemeUnderlineColor);\n/* 对应下划线 */\n--ui-color-main: var(--SmartThemeBlurTintColor);\n/* 对应UI背景 */\n--ui-color-sec: color-mix(\nin srgb,\nvar(--ui-color-main) 88%,\nvar(--text-color-main)\n);\n/* 自适应UI次级颜色 */\n--top-bar-color: var(--SmartThemeBorderColor);\n/* 顶栏颜色 */\n--top-bar-underline-color: var(--theme-color-1);\n/* 顶栏下边缘颜色 */\n--top-bar-icon-color: var(--text-color-main);\n/* 顶栏图标颜色 */\n--chat-background-color: var(--SmartThemeChatTintColor);\n/* 对应聊天背景 */\n--text-color-main: var(--SmartThemeBodyColor);\n/* 对应主要文本 */\n--text-color-sec: var(--SmartThemeEmColor);\n/* 对应斜体文本 */\n--user-color: var(--SmartThemeUserMesBlurTintColor);\n/* 对应用户消息模糊色调 */\n--char-color: var(--SmartThemeBotMesBlurTintColor);\n/* 对应AI消息模糊色调 */\n--code-color: var(--SmartThemeShadowColor);\n/* 对应阴影颜色 */\n--gradient-main: linear-gradient(\n135deg,\nvar(--theme-color-1) 30%,\ncolor-mix(in srgb, var(--theme-color-1) 50%, var(--theme-color-2) 50%) 50%,\nvar(--theme-color-2) 70%\n);\n/* 主题渐变 */\n--blur-amount: 10px;\n/* 高斯模糊数值 */\n--blur-opacity: 0.8;\n/* 模糊后背景透明度 */\n--blur-bg-light: rgba(255, 255, 255, 0.3);\n/* 模糊背景浅色 */\n--blur-bg-top: color-mix(in srgb, var(--top-bar-color) 70%, transparent);\n/* 模糊聊天背景 */\n--blur-bg-chat: color-mix(in srgb, var(--chat-background-color) 70%, transparent);\n/* 模糊输入框背景 - 增加了不透明度 */\n--input-text-shadow: 0 0 0 rgba(0, 0, 0, 0); /* 输入文本阴影，默认无 */\n--panel-shadow: 0 0 20px rgba(0, 0, 0, 0.25), 0 0 6px rgba(0, 0, 0, 0.15); /* 侧边栏阴影 */\n}\n\n:root {\n--mes-width: 100%;\n/* 此百分比调整聊天气泡与整体聊天界面的距离 */\n--mes-block-width: 98%;\n/* 此百分比调整聊天记录文字与气泡左右边框的距离 */\n--box-border-radius: 5px;\n/* 所有盒子的圆角大小 */\n--top-distance: 5px;\n/* 顶栏与上边沿的距离 */\n--bottom-distance: 5px;\n/* 底栏与下边沿的距离 */\n--chat-send-spacing: 5px;\n/* 聊天界面与发送框的距离 */\n--leftRight-chat-spacing: 10px;\n/* 聊天界面与左右边沿的距离，电脑端专供 */\n--scroll-width: 5px;\n/* 滚动条宽度 */\n--icon-size: var(--mainFontSize);\n/* 图标大小 */\n--border-radius-small: 5px;\n--border-radius-medium: 10px;\n--spacing-long: 10px;\n--spacing-short: 5px;\n--topBarIconSize: calc(var(--icon-size) * 2);\n}\n\n/* ---标题--- */\n\n/* 标题装饰 */\n.standoutHeader strong,\n#right-nav-panel h2,\n.drawer-content > h3,\n.drawer-content\n.flex-container\nh3:first-of-type:not(#Backgrounds .textAlignCenter),\n.drawer-content .flex-container .flex-container h3:first-of-type,\n.popup h3:not(dialog *) {\nfont-size: calc(var(--mainFontSize) * 1.2);\ncolor: var(--text-color-main);\nletter-spacing: 0.1em;\nwhite-space: nowrap;\nline-height: 2;\n}\n\n.standoutHeader strong::before,\n#right-nav-panel h2::before,\n.drawer-content > h3::before,\n.drawer-content\n.flex-container\nh3:first-of-type:not(#Backgrounds .textAlignCenter)::before,\n.drawer-content .flex-container .flex-container h3:first-of-type::before,\n.popup h3:not(dialog *)::before {\ncontent: \"✦\";\nposition: relative;\nbackground: var(--gradient-main);\n-webkit-background-clip: text;\nbackground-clip: text;\ncolor: transparent;\nfont-size: calc(var(--mainFontSize) * 1.3);\ntext-shadow: none;\npadding-bottom: 0.5px;\n}\n\n@supports (-webkit-touch-callout: none) {\n.standoutHeader strong::before,\n#right-nav-panel h2::before,\n.drawer-content > h3::before,\n.drawer-content\n.flex-container\nh3:first-of-type:not(#Backgrounds .textAlignCenter)::before,\n.drawer-content .flex-container .flex-container h3:first-of-type::before,\n.popup h3:not(dialog *)::before {\nfont-size: calc(var(--mainFontSize) * 1.7);\n}\n}\n\n/* 增加标题下横线 */\n.standoutHeader:not(h4),\n#rm_PinAndTabs,\n#top-settings-holder\n.drawer:not(:first-child):not(:last-child)\n.drawer-content\n.alignItemsBaseline.wide100p,\n#rm_api_block .flex-container.alignItemsBaseline,\n#title_api,\n#AdvancedFormatting .flex-container.alignItemsBaseline:not(h3),\n#WorldInfo .alignitemscenter:not(#world_popup *),\n#user-settings-block div[name=\"userSettingsRowOne\"],\n#rm_extensions_block\n.alignitemscenter.flex-container.wide100p:not(.justifyCenter) {\nbackground-image: none;\nborder-radius: 0;\nborder: none;\nborder-bottom: 1px solid var(--ui-color-sec);\nmargin-bottom: calc(var(--mainFontSize) * 0.4);\npadding-bottom: calc(var(--mainFontSize) * 0.2);\n}\n\n/* 修正标题没对齐的问题 */\n.drawer-content .alignItemsBaseline {\nalign-items: center !important;\n}\n\n#title_api {\npadding-bottom: 0;\n}\n\n#title_api::before,\n#Backgrounds h3.margin0.flex2::before,\n#rm_extensions_block .margin0.flex1::before,\n#rm_button_selected_ch h2::before {\nmargin-right: calc(var(--mainFontSize) * 0.4);\n}\n\n/* ---抽屉--- */\n/* 覆盖样式 */\n.inline-drawer-header,\n#extensions_settings .inline-drawer-toggle.inline-drawer-header,\n#extensions_settings2 .inline-drawer-toggle.inline-drawer-header,\n#top-settings-holder h4:not(#ai-config-button *):not(#rightNavHolder *) {\nborder-width: 0 0 0 3px !important;\nborder-color: transparent !important;\nborder-style: solid;\nborder-radius: 0;\nbackground-image: none !important;\npadding-left: 7px;\nborder-image: linear-gradient(\nto bottom,\ntransparent 25%,\nvar(--theme-color-1) 25%,\nvar(--theme-color-1) 75%,\ntransparent 75%\n)\n1 100%;\n}\n\n/* 缩小箭头图标 */\n.inline-drawer-icon {\nfont-size: var(--icon-size);\n}\n\n/* ---滚动条--- */\n::-webkit-scrollbar {\nwidth: var(--scroll-width);\n}\n\n::-webkit-scrollbar:horizontal {\nheight: var(--scroll-width);\n}\n\n::-webkit-scrollbar-track {\nbackground: transparent;\n}\n\n::-webkit-scrollbar-thumb:vertical,\n::-webkit-scrollbar-thumb:horizontal {\nbackground-color: color-mix(in srgb, var(--theme-color-1) 70%, transparent);\nbox-shadow: none;\nborder: 0;\n}\n\n/* ---输入框--- */\ninput[type=\"text\"],\ninput[type=\"number\"],\ninput[type=\"switch\"],\ninput:not([type]),\ntextarea:not([type=\"search\"]) {\nbackground-color: var(--ui-color-sec) !important;\nborder: 1px solid var(--ui-color-sec) !important;\n}\n\ninput[type=\"text\"]:focus,\ninput[type=\"number\"]:focus,\ninput[type=\"switch\"]:focus,\ninput:not([type]):focus,\ntextarea:not([type=\"search\"]):focus {\nborder: 1px solid var(--theme-color-1) !important;\n}\n\ntextarea[type=\"search\"] {\nbackground-color: transparent !important;\nborder: none !important;\n}\n\n.range-block {\nmargin: calc(var(--mainFontSize) * 0.6) 0;\n}\n\n.range-block-counter {\nmargin-left: 20px;\n}\n\n.text_pole:not(.objective-task) {\nbackground-color: var(--ui-color-sec);\nborder: none;\n}\n\n/* ---按键--- */\n.menu_button:not(.mes_edit_buttons *) {\nbackground-color: var(--ui-color-sec);\nborder-color: var(--ui-color-sec);\ncolor: var(--text-color-main);\n}\n\n.menu_button_icon i {\nfont-size: calc(var(--icon-size) * 0.8);\n}\n\n#delete_button,\n#dialogue_del_mes_ok,\n#dialogue_popup_ok,\n#bulk_tag_popup_reset,\n#bulk_tag_popup_remove_mutual,\n.mes_edit_cancel.menu_button,\n.menu_button.popup-button-ok,\n.redWarningBG {\nbackground-color: var(--crimson70a) !important;\ncolor: var(--white100) !important;\n}\n\n/* 去除阴影 */\n.mes_button,\n.mes_edit_buttons,\n#completion_prompt_manager\n#completion_prompt_manager_list\nli.completion_prompt_manager_prompt\nspan\nspan\nspan {\nfilter: none !important;\n}\n\n.fa-solid:not(#load-spinner) {\nfont-size: var(--icon-size);\ntext-shadow: none !important;\n}\n\n/* ---下拉框--- */\nselect {\nbackground-color: var(--ui-color-sec) !important;\ncolor: var(--text-color-main);\nborder: none !important;\nmargin: calc(var(--mainFontSize) * 0.3) 0 !important;\n}\n\nselect option:not(:checked) {\ncolor: var(--text-color-sec);\n}\n\nselect option:checked {\ncolor: var(--ui-color-sec);\nbackground-color: var(--text-color-main) !important;\n}\n\nselect option {\nbackground-color: var(--ui-color-sec) !important;\n}\n\n.ui-widget-content .ui-state-active {\ncolor: var(--theme-color-1) !important;\n}\n\n/* ---勾选框--- */\ninput[type=\"checkbox\"] {\nwidth: calc(var(--mainFontSize) * 0.9);\nheight: calc(var(--mainFontSize) * 0.9);\nborder: none;\noutline: none;\nbackground-color: var(--ui-color-main);\nfilter: none;\nbox-shadow: 0 0 0 1px var(--text-color-sec);\ntransform: translateY(0);\nmargin-left: 1px;\n}\n\ninput[type=\"checkbox\"]::before {\nbox-shadow: inset 1em 1em var(--theme-color-1);\n}\n\ninput[type=\"checkbox\"].del_checkbox {\nmargin-right: 0;\n}\n\n/* ---滑动条--- */\ninput[type=\"range\"] {\nbox-shadow: none;\nbackground-color: var(--ui-color-sec) !important;\n}\n\ninput[type=\"range\"]:hover {\nbackground-color: color-mix(\nin srgb,\nvar(--ui-color-sec) 70%,\nblack 30%\n) !important;\n}\n\ninput[type=\"range\"]::-webkit-slider-thumb {\nbox-shadow: 0 0 0 3px\ncolor-mix(in srgb, var(--theme-color-1) 50%, transparent);\nbackground-color: var(--theme-color-1);\nwidth: 10px;\nheight: 10px;\n}\n\n.neo-range-slider {\nbox-shadow: inset 0 0 0 3px rgba(0, 0, 0, 0.2) !important;\n}\n\n/* ---盒子--- */\n/* 统一样式 */\n#left-nav-panel,\n#right-nav-panel,\n#character_popup,\n#dialogue_popup,\n#chat,\n.draggable,\n#select_chat_popup,\n.popup:not(.transparent_dialogue_popup),\n.drawer-content {\npadding: var(--spacing-long);\nbackground-color: var(--ui-color-main);\nborder-radius: var(--box-border-radius);\nborder: none;\n}\n\n#dialogue_popup_text {\npadding: 0 var(--spacing-long) 0 0;\n}\n\n#left-nav-panel,\n#right-nav-panel {\ntop: var(--top-distance);\nheight: 100dvh !important;\nmax-height: calc(100dvh - var(--top-distance) - var(--bottom-distance) - 1px);\nbox-shadow: var(--panel-shadow); /* 添加侧边栏阴影 */\nborder: 1px solid color-mix(in srgb, var(--theme-color-1) 20%, transparent); /* 添加细边框增强边界感 */\nz-index: 10; /* 确保层级高于其他元素 */\ntransition: box-shadow 0.3s ease, border-color 0.3s ease; /* 添加过渡效果 */\n}\n\n/* 当鼠标悬停在侧边栏上时提供额外的视觉反馈 */\n#left-nav-panel:hover,\n#right-nav-panel:hover {\nborder-color: color-mix(in srgb, var(--theme-color-1) 40%, transparent); /* 边框颜色加深 */\n}\n\n/* 当左侧面板展开时，提供视觉反馈 */\nbody.PanelActive[lp=\"1\"] #left-nav-panel {\nbox-shadow: 8px 0 25px rgba(0, 0, 0, 0.3), 0 0 10px rgba(0, 0, 0, 0.2); /* 右侧阴影更强 */\n}\n\n/* 当右侧面板展开时，提供视觉反馈 */\nbody.PanelActive[rp=\"1\"] #right-nav-panel {\nbox-shadow: -8px 0 25px rgba(0, 0, 0, 0.3), 0 0 10px rgba(0, 0, 0, 0.2); /* 左侧阴影更强 */\n}\n\n@media screen and (max-width: 1000px) {\n#left-nav-panel,\n#right-nav-panel,\n.drawer-content {\nmargin-top: var(--top-distance);\n}\n\n#left-nav-panel,\n#right-nav-panel {\nheight: calc(100dvh - 45px) !important;\nmax-height: calc(100dvh - var(--topBarBlockSize)) !important;\nborder-radius: 0 0 var(--border-radius-small) var(--border-radius-small);\n}\n}\n\n/* ---列表--- */\n.list-group,\n.options-content {\nborder: none;\nborder-radius: var(--border-radius-small);\nbackground-color: var(--ui-color-sec) !important;\n}\n\n#options {\nbackground-color: transparent !important;\npadding: 0;\n}\n\n/* ---图标--- */\n.fa-fw:not(#qr--modal-icon) {\nwidth: auto;\n}\n\n/* 缩小锁定图标 */\n#rm_button_characters,\n#rm_button_panel_pin_div,\n#lm_button_panel_pin_div,\n#WI_button_panel_pin_div {\nfont-size: var(--icon-size);\n}\n\n/* ---头像--- */\n.avatar img,\nbody.big-avatars .avatar img {\nbox-shadow: none;\nborder: none;\n}\n\n/* ---代码块--- */\ncode {\nmargin: 0;\nborder: none;\nbackground-color: var(--code-color);\n}\n\nbody[data-stscript-style] .hljs.language-stscript,\n.hljs {\nbackground: var(--code-color);\n}\n\n.custom-mermaid {\nbackground-color: var(--code-color);\n}\n\n/* 浅色代码块样式 */\n#chat code,\n#chat pre code,\n#chat .custom-code,\n#chat .hljs {\nfont-family: \"Source Code Pro\", \"JetBrains Mono\", \"Consolas\", monospace;\npadding: 12px 16px;\nmargin: 8px 0;\nborder-radius: var(--border-radius-medium);\nborder-left: 3px solid var(--theme-color-1);\nbackground-color: color-mix(in srgb, white 95%, var(--theme-color-1) 5%);\ncolor: color-mix(in srgb, black 90%, var(--theme-color-1) 10%);\nline-height: 1.5;\nfont-size: 0.92em;\noverflow-x: auto;\nbox-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);\ntransition: all 0.3s ease;\n}\n\n/* 代码块悬停效果 */\n#chat code:hover,\n#chat pre code:hover,\n#chat .custom-code:hover,\n#chat .hljs:hover {\nborder-left: 3px solid var(--theme-color-2);\nbox-shadow: 0 3px 8px rgba(0, 0, 0, 0.12);\nbackground-color: color-mix(in srgb, white 92%, var(--theme-color-1) 8%);\n}\n\n/* 行内代码样式 */\n#chat p code,\n#chat li code,\n#chat span:not(.hljs) > code {\npadding: 2px 6px;\nmargin: 0 2px;\nborder-radius: var(--border-radius-small);\nbackground-color: color-mix(in srgb, white 90%, var(--theme-color-1) 10%);\nborder-left: 2px solid var(--theme-color-1);\ncolor: color-mix(in srgb, black 85%, var(--theme-color-1) 15%);\nfont-size: 0.9em;\nwhite-space: nowrap;\nvertical-align: middle;\n}\n\n/* 代码块内的滚动条样式 */\n#chat code::-webkit-scrollbar,\n#chat .hljs::-webkit-scrollbar {\nheight: 6px;\nbackground-color: rgba(240, 240, 240, 0.5);\n}\n\n#chat code::-webkit-scrollbar-thumb,\n#chat .hljs::-webkit-scrollbar-thumb {\nbackground-color: color-mix(in srgb, var(--theme-color-1) 60%, white);\nborder-radius: 3px;\n}\n\n#chat code::-webkit-scrollbar-thumb:hover,\n#chat .hljs::-webkit-scrollbar-thumb:hover {\nbackground-color: var(--theme-color-1);\n}\n\n/* 浅色代码语法高亮 */\n.hljs-keyword,\n.hljs-selector-tag,\n.hljs-built_in,\n.hljs-name,\n.hljs-tag {\ncolor: #0033cc;\n}\n\n.hljs-string,\n.hljs-title,\n.hljs-section,\n.hljs-attribute,\n.hljs-literal,\n.hljs-template-tag,\n.hljs-template-variable,\n.hljs-type {\ncolor: #994500;\n}\n\n.hljs-symbol,\n.hljs-bullet,\n.hljs-variable,\n.hljs-deletion {\ncolor: #992222;\n}\n\n.hljs-comment,\n.hljs-quote,\n.hljs-addition,\n.hljs-meta {\ncolor: #557799;\n}\n\n.hljs-emphasis {\nfont-style: italic;\n}\n\n.hljs-strong {\nfont-weight: bold;\n}\n\n/* 确保在暗色模式下代码块仍然保持浅色 */\nbody.waifuMode #chat code,\nbody.waifuMode #chat .hljs,\nbody.waifuMode #chat .custom-code {\nbackground-color: color-mix(in srgb, rgba(245, 245, 250, 0.95) 90%, var(--theme-color-1) 10%);\nborder-left: 3px solid var(--theme-color-1);\nbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\ncolor: color-mix(in srgb, black 90%, var(--theme-color-1) 10%);\n}\n\nbody.documentstyle #chat code,\nbody.documentstyle #chat .hljs,\nbody.documentstyle #chat .custom-code {\nborder: 1px solid var(--ui-color-sec);\nborder-left: 3px solid var(--theme-color-1);\nbackground-color: color-mix(in srgb, white 95%, var(--theme-color-1) 5%);\n}\n\n/* 夜间模式下的特殊处理，确保代码块始终保持浅色 */\n@media (prefers-color-scheme: dark) {\n#chat code,\n#chat pre code,\n#chat .custom-code,\n#chat .hljs {\nbackground-color: color-mix(in srgb, white 95%, var(--theme-color-1) 5%);\ncolor: color-mix(in srgb, black 90%, var(--theme-color-1) 10%);\n}\n}\n\n/* 代码块行号样式 (如果支持) */\n.hljs-ln-numbers {\nuser-select: none;\ntext-align: center;\ncolor: var(--text-color-sec);\nborder-right: 1px solid var(--ui-color-sec);\nvertical-align: top;\npadding-right: 8px !important;\npadding-left: 4px !important;\n}\n\n.hljs-ln-code {\npadding-left: 10px !important;\n}\n\n/* 移动设备上的代码块样式优化 */\n@media (max-width: 768px) {\n#chat code,\n#chat pre code,\n#chat .custom-code,\n#chat .hljs {\npadding: 10px 12px;\nfont-size: 0.85em;\n}\n\n/* 确保在移动设备上代码块不会溢出屏幕 */\n#chat code,\n#chat .hljs {\nmax-width: calc(100vw - 60px);\nwhite-space: pre-wrap;\nword-break: break-word;\n}\n}\n\n/* 确保代码框架在所有主题模式下都能正常显示 */\nbody.waifuMode #chat code,\nbody.waifuMode #chat .hljs,\nbody.waifuMode #chat .custom-code {\nbackground-color: color-mix(in srgb, rgba(30, 30, 35, 0.7) 90%, var(--theme-color-1) 10%);\nborder-left: 3px solid var(--theme-color-1);\nbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n}\n\nbody.documentstyle #chat code,\nbody.documentstyle #chat .hljs,\nbody.documentstyle #chat .custom-code {\nborder: 1px solid var(--ui-color-sec);\nborder-left: 3px solid var(--theme-color-1);\n}\n\n/*\n* 作者：KAKAA | Discord: @rech0_viixi\n* 发布社区：类脑ΟΔΥΣΣΕΙΑ（https://discord.com/channels/1134557553011998840/1340273995018141757）\n* 许可协议：CC BY-NC-SA 4.0\n* 二改分享需注明原作者\n* 禁止任何形式的商用及商用目的的引流！\n*/\n\n/* ！！！---局部---！！！ */\n\n/* ---顶栏与通用扩展界面--- */\nbody.no-blur #top-bar,\n#top-bar {\nborder-radius: var(--border-radius-small) var(--border-radius-small) 0 0;\nbox-shadow: none;\nbackground-color: var(--blur-bg-top) !important;\nbackdrop-filter: blur(var(--blur-amount));\n-webkit-backdrop-filter: blur(var(--blur-amount));\n}\n\nbody.waifuMode #top-bar {\nborder: none;\n}\n\n#top-settings-holder {\ntop: var(--top-distance);\nbox-shadow: 0 2px 0 0 var(--top-bar-underline-color);\nbackdrop-filter: blur(var(--blur-amount));\n-webkit-backdrop-filter: blur(var(--blur-amount));\n}\n\n#top-settings-holder > :first-child {\nborder-radius: var(--box-border-radius) 0 0 0;\n}\n\n#top-settings-holder > :last-child {\nborder-radius: 0 var(--box-border-radius) 0 0;\n}\n\n.drawer {\ncolor: var(--top-bar-icon-color);\nbackground-color: var(--top-bar-color);\n}\n\n.drawer:focus-within {\nbackground-color: var(--ui-color-main);\n}\n\n.drawer-content:not(#left-nav-panel):not(#right-nav-panel) {\nborder-radius: 0 0 var(--border-radius-small) var(--border-radius-small);\n}\n\n/* IOS 适配 */\n@supports (-webkit-touch-callout: none) {\n.drawer-content:not(#left-nav-panel):not(#right-nav-panel) {\nmax-width: 100dvw;\ntop: var(--topBarBlockSize);\n}\n}\n/* IPAD 适配 */\n@supports (-webkit-touch-callout: none) {\n@media screen and (min-width: 1000px) {\n#character_popup,\n#world_popup,\n.drawer-content {\nmargin-top: 0px;\n}\n#top-settings-holder .drawer .drawer-content {\nright: 0;\nleft: 0;\nwidth: var(--sheldWidth);\n}\n#left-nav-panel,\n#right-nav-panel {\nmargin: 0 auto;\ntop: calc(var(--topBarBlockSize) + var(--top-distance));\nmax-height: calc(\n100dvh - var(--topBarBlockSize) - var(--bottomFormBlockSize)\n);\nborder-radius: 0 0 var(--border-radius-small) var(--border-radius-small);\nborder-bottom: 1px solid var(--top-bar-underline-color);\nbox-shadow: var(--panel-shadow); /* 确保在iPad上也有阴影 */\n}\n}\n}\n\n.drawer-icon {\nopacity: 0.3;\nfont-size: calc(var(--icon-size) * 1.1);\ntext-shadow: none !important;\n}\n\n.drawer-icon:focus {\nopacity: 1;\nbackground: var(--gradient-main);\n-webkit-background-clip: text;\nbackground-clip: text;\ncolor: transparent;\n}\n\n.drawer-content {\nbox-shadow: 0 4px 10px -5px rgba(0, 0, 0, 0.4);\nborder-radius: 0 0 var(--border-radius-small) var(--border-radius-small);\nborder-bottom: 1px solid var(--top-bar-underline-color);\n}\n\n#AdvancedFormatting h3.flex-container {\nflex-wrap: nowrap;\n}\n\n/* 调整竖排间距 */\n#user-settings-block-content,\n#AdvancedFormatting .flex-container.spaceEvenly {\ngap: 10px;\n}\n\n/* 反代警告 */\n.reverse_proxy_warning {\nborder: 1px solid var(--ui-color-sec) !important;\nbackground-color: transparent !important;\n}\n\n/* ---聊天界面--- */\n#sheld {\ntop: calc(var(--topBarBlockSize) + var(--top-distance));\nheight: calc(100dvh - var(--topBarBlockSize) - var(--top-distance) - 1px);\n}\n\n#chat {\noverflow-y: scroll;\nalign-items: center;\nmax-height: calc(100dvh - var(--topBarBlockSize) - 20px) !important;\npadding: calc(var(--scroll-width) + 4px) 0 var(--scroll-width)\nvar(--scroll-width);\nborder-radius: 0 0 var(--box-border-radius) var(--box-border-radius);\nbackground-color: var(--blur-bg-top);\nbackdrop-filter: blur(var(--blur-amount));\n-webkit-backdrop-filter: blur(var(--blur-amount));\n}\n\n@supports (-webkit-touch-callout: none) {\n#chat {\npadding-right: var(--scroll-width);\n}\n}\n\n.mesAvatarWrapper {\nmargin: 0 auto;\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\njustify-content: center;\n}\n\n.mesAvatarWrapper .avatar {\nmargin: calc(var(--mainFontSize)) 0 calc(var(--mainFontSize) * 0.4) 0;\n}\n\n.mesIDDisplay,\n.mes_timer,\n.tokenCounterDisplay {\ndisplay: contents;\ncolor: var(--text-color-sec);\n}\n\n#chat .ch_name {\nposition: relative;\nalign-items: flex-end;\npadding: calc(var(--mainFontSize) * 0.8) 0;\n}\n\n#chat .ch_name::after {\ncontent: \"\";\nposition: absolute;\nbottom: 0;\nleft: 0;\nwidth: 100%;\nheight: 1px;\nbackground-color: var(--text-color-sec);\n}\n\n.mes {\nwidth: var(--mes-width);\nflex-direction: column;\nalign-items: center;\nborder: none !important;\nbackground-color: var(--ui-color-main) !important;\nmargin: 0;\n}\n\n.mes_text {\npadding: calc(var(--mainFontSize) * 0.8) 0 0 0;\n}\n\n.mes_block {\nwidth: var(--mes-block-width);\npadding-left: 0;\n}\n\n.last_mes .mes_text {\npadding-right: 0;\n}\n\n.last_mes .mesAvatarWrapper {\npadding-bottom: 0;\n}\n\n/* 只对AI消息生效，因为用户消息不需要滑动箭头 */\ndiv[is_user=\"false\"].last_mes .mes_block {\npadding-bottom: 50px;\n}\n\n.last_mes .swipeRightBlock {\nmargin: 0 var(--spacing-long) 0 0;\n}\n\ndiv[is_user=\"true\"] {\nbackground-color: var(--user-color) !important;\n}\n\ndiv[is_user=\"true\"] .avatar img {\nbox-shadow: 0 0 0 2px\ncolor-mix(in srgb, var(--theme-color-2) 60%, transparent),\n0 0 10px 2px color-mix(in srgb, var(--theme-color-1) 60%, transparent);\n}\n\ndiv[is_user=\"false\"] {\nbackground-color: var(--char-color) !important;\n}\n\ndiv[is_user=\"false\"] .avatar img {\nbox-shadow: 0 0 0 2px\ncolor-mix(in srgb, var(--theme-color-1) 60%, transparent),\n0 0 10px 2px color-mix(in srgb, var(--theme-color-2) 60%, transparent);\n}\n\n.swipe_left {\nleft: calc(var(--scroll-width) + var(--spacing-short));\n}\n\n.swipeRightBlock {\nflex-direction: row-reverse;\nbottom: calc(var(--swipeCounterHeight) + var(--swipeCounterMargin));\n}\n\n.swipes-counter {\nmargin-bottom: 4px;\n}\n\n#chat .mes.selected {\nbackground-color: var(--crimson70a) !important;\n}\n\n/* 文档模式 */\n\nbody.documentstyle #chat .ch_name::after {\nwidth: 0;\n}\n\nbody.documentstyle #chat .mes .mes_block {\nmargin-right: 0;\npadding-bottom: 15px;\n}\n\nbody.documentstyle #chat .last_mes .mes_block {\npadding-bottom: 50px;\n}\n\nbody.documentstyle #chat .last_mes {\npadding-top: var(--border-radius-medium);\n}\n\nbody.documentstyle #chat .mes_text {\nmargin-left: 0 !important;\n}\n\nbody.documentstyle #chat .last_mes .swipe_left {\nleft: var(--scroll-width);\n}\n\n/* 视觉小说模式 */\nbody.waifuMode #chat {\nborder: none;\nbox-shadow: none;\nborder-radius: var(--border-radius-small);\n}\n\nbody.waifuMode .zoomed_avatar {\ntop: 70px;\n}\n\n/* 推理块 */\n.mes_reasoning_header {\nmargin: 1em 0;\npadding: 7px calc(var(--mainFontSize) + 14px) 7px\ncalc(var(--mainFontSize) * 0.8);\nbackground: color-mix(in srgb, var(--theme-color-1) 30%, transparent);\nborder: 1px solid var(--theme-color-1);\ncolor: var(--text-color-main);\n}\n\n.mes_reasoning_header span::before {\ncontent: \"✦\";\nposition: relative;\ntext-shadow: none;\nfont-size: var(--mainFontSize);\nline-height: 1;\nmargin-right: 3px;\n}\n.mes_reasoning_details .mes_reasoning_arrow {\nright: 10px;\nfont-size: calc(var(--mainFontSize) * 0.7) !important;\n}\n\n.mes_reasoning {\nborder-left: 2px solid var(--theme-color-1);\n}\n\n/* ---提示词管理器--- */\n#left-nav-panel {\nwidth: 380px !important;\npadding-right: 0;\nflex-shrink: 0;\n}\n\n@supports (-webkit-touch-callout: none) {\n@media screen and (min-width: 1000px) {\n#left-nav-panel {\npadding-right: var(--spacing-long);\n}\n.fillLeft .scrollableInner {\npadding-right: 0.5em;\n}\n}\n}\n\n#range_block_openai > .range-block .toggle-description {\nmargin-right: 0;\n}\n\n.range-block-title {\ntext-align: left;\n}\n\nlabel[for=\"openai_image_inlining\"] + div,\n#openai_settings .inline-drawer-header .flex-container {\ngap: 0;\ntext-align: left;\n}\n\n#openai_settings .inline-drawer-header .flex-container b {\nmargin-right: 5px;\n}\n\n#completion_prompt_manager {\nwidth: 100%;\n}\n\n#completion_prompt_manager_list .completion_prompt_manager_list_separator {\ndisplay: none !important;\n}\n\n#completion_prompt_manager .completion_prompt_manager_header {\ncolor: var(--text-color-main);\npadding: 0;\n}\n\n.completion_prompt_manager_footer {\npadding: 0 !important;\n}\n\n#completion_prompt_manager .completion_prompt_manager_header_advanced span {\nmargin-left: 0;\n}\n\n#completion_prompt_manager\n#completion_prompt_manager_list\nli.completion_prompt_manager_prompt {\nborder-radius: var(--border-radius-medium);\nborder-color: var(--white20a);\nbackground-color: var(--ui-color-main);\n}\n\n#completion_prompt_manager\n#completion_prompt_manager_list\nli.completion_prompt_manager_prompt:hover,\n#completion_prompt_manager\n#completion_prompt_manager_list\nli.completion_prompt_manager_prompt:focus {\nbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\nborder-color: var(--theme-color-1);\nbackground-color: color-mix(in srgb, var(--theme-color-1) 15%, transparent);\noutline: none;\n}\n\n#completion_prompt_manager\n#completion_prompt_manager_list\n.completion_prompt_manager_prompt:not(\n.completion_prompt_manager_prompt_disabled\n)\n.prompt-manager-toggle-action {\ncolor: var(--theme-color-1);\n}\n\n#completion_prompt_manager\n#completion_prompt_manager_list\n.completion_prompt_manager_prompt_disabled\n.completion_prompt_manager_prompt_name\n.prompt-manager-inspect-action,\n#completion_prompt_manager\n#completion_prompt_manager_list\n.completion_prompt_manager_prompt\n.completion_prompt_manager_prompt_name\n.fa-solid {\ncolor: color-mix(in srgb, var(--text-color-main) 30%, transparent);\n}\n\n#completion_prompt_manager > .range-block > .text_pole {\npadding: 0 15px 10px 15px;\n}\n\n#completion_prompt_manager .completion_prompt_manager_header_advanced span {\nfilter: none;\n}\n\n/* ---世界书--- */\n#WorldInfo {\nmargin-top: var(--top-distance);\n}\n\n@supports (-webkit-touch-callout: none) {\n#world_popup {\nmargin-top: 0;\nwidth: 100%;\n}\n}\n\n.world_entry {\nmargin-top: var(--spacing-short);\n}\n\n.wi-card-entry {\nborder: none;\n}\n\n.select2-container .select2-selection--multiple {\nbackground-color: var(--ui-color-sec);\nborder: none;\n}\n\n.select2-container .select2-selection--multiple .select2-selection__choice,\n.select2-container .select2-selection--single .select2-selection__choice {\nbackground-color: color-mix(in srgb, var(--theme-color-2) 30%, transparent);\n}\n\nspan.select2.select2-container .select2-selection__choice__remove,\n.select2_choice_clickable_buttonstyle\n+ span.select2-container\n.select2-selection__choice__display {\ncolor: var(--text-color-main);\nline-height: 1.5;\nbackground-color: transparent;\nmargin: 0px;\n}\n\n.select2-container\n.select2-selection--multiple\n.select2-selection__choice__remove {\npadding: 0 5px;\n}\n\n@media screen and (max-width: 1000px) {\n.world_entry_form .inline-drawer-header {\nborder-width: 0 0 0 3px !important;\nborder-color: var(--theme-color-1) !important;\nborder-style: solid;\nborder-image: none;\n}\n}\n\n/* ---用户管理器--- */\n.avatar-container.selected {\nborder-color: var(--theme-color-2);\n}\n\n/* ---图库--- */\n#form_bg_download .bg_example.add_bg_but.interactable {\nbackground-color: var(--text-color-sec);\n}\n\n.bg_example {\nbox-shadow: none;\nborder-color: var(--ui-color-sec);\n}\n\n.bg_example.selected {\nborder-color: var(--theme-color-2);\n}\n\n.bg_button {\ncolor: var(--theme-color-1);\nfilter: drop-shadow(0px 0px 2px white);\n}\n\n.bg_button:hover {\nbackground-color: var(--crimson70a);\n}\n\n/* ---用户设置--- */\n#movingUIPresets {\nmargin-bottom: 0 !important;\n}\n\n/* ---角色管理器--- */\n#right-nav-panel {\nwidth: 380px !important;\nflex-shrink: 0;\n}\n\n#right-nav-panel hr:first-of-type {\ndisplay: none;\n}\n\n#CharListButtonAndHotSwaps {\nmargin-bottom: calc(var(--mainFontSize) * 0.8);\n}\n\nlabel[for=\"char-management-dropdown\"] {\nwidth: 100%;\n}\n\n#avatar_div {\nflex-direction: column;\n}\n\n#avatar_controls {\nalign-items: center;\n}\n\n.character_select {\nmargin-top: calc(var(--mainFontSize) * 0.8);\n}\n\n.character_select.is_fav .avatar {\noutline: 2px solid var(--theme-color-1);\n}\n\n.character_select.is_fav .ch_name {\ncolor: var(--theme-color-1);\n}\n\n.tag.excluded::after {\nfont-size: calc(var(--icon-size) * 2);\n}\n\n.tag.actionable {\nfont-size: calc(var(--icon-size) * 1);\nmin-height: calc(var(--icon-size) * 2);\nmin-width: calc(var(--icon-size) * 2);\n}\n\n/* 收藏区左右拖动 */\n#HotSwapWrapper {\noverflow: hidden;\n}\n\n#HotSwapWrapper > div {\noverflow: auto hidden;\nflex-wrap: nowrap;\nheight: calc(var(--avatar-base-height) + var(--scroll-width) + 10px);\nmax-height: calc(var(--avatar-base-height) * 2);\n}\nbody.big-avatars #HotSwapWrapper > div {\nheight: calc(\nvar(--avatar-base-height) * var(--big-avatar-height-factor) +\nvar(--scroll-width) + 10px\n);\nmax-height: calc(\nvar(--avatar-base-height) * var(--big-avatar-height-factor) * 2\n);\n}\n\n#HotSwapWrapper > div::-webkit-scrollbar-thumb {\nbackground-color: var(--ui-color-sec);\n}\n\n/* ---底栏--- */\n#form_sheld {\nmargin: var(--chat-send-spacing) auto var(--bottom-distance) auto;\n}\n\nbody.no-blur #send_form,\n#send_form {\nbackground-color: var(--blur-bg-top) !important;\nborder: 1px solid color-mix(in srgb, var(--theme-color-1) 50%, transparent);\nborder-radius: var(--box-border-radius);\nbackdrop-filter: blur(var(--blur-amount));\n-webkit-backdrop-filter: blur(var(--blur-amount));\nbox-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);\npadding: 0 5px;\n}\n\n/* 为输入区域添加轻微内阴影，增强可读性 */\n#send_form textarea {\nbackground-color: transparent !important;\nborder: none !important;\ncolor: var(--text-color-main) !important;\nfont-weight: normal;\ntext-shadow: var(--input-text-shadow);\n}\n\n/* 调整滚动条样式，增强在输入栏的可见度 */\n#send_form::-webkit-scrollbar-thumb {\nbackground-color: color-mix(in srgb, var(--theme-color-1) 70%, transparent);\n}\n\n#send_form textarea::placeholder {\ncolor: color-mix(in srgb, var(--text-color-sec) 90%, black) !important;\nopacity: 0.8;\n}\n\n#send_form .fa-solid {\nfont-size: calc(var(--icon-size) * 1.2);\n}\n\n#leftSendForm > div:nth-child(2) {\nwidth: auto;\n}\n\n/* QR */\n#qr--bar > .qr--buttons .qr--button,\n#qr--popout > .qr--body > .qr--buttons .qr--button {\nbackground-color: color-mix(in srgb, var(--theme-color-1) 30%, transparent);\nborder-color: var(--theme-color-1) !important;\nborder-radius: var(--border-radius-small) !important;\nborder-width: 0 0 0px 0 !important;\nfont-size: calc(var(--mainFontSize) * 0.9);\n}\n\n#qr--bar > .qr--buttons .qr--button:hover,\n#qr--popout > .qr--body > .qr--buttons .qr--button:hover {\nbackground-color: color-mix(\nin srgb,\nvar(--theme-color-1) 50%,\ntransparent\n) !important;\n}\n\n#qr--popoutTrigger {\nbackground-color: transparent;\nborder: none;\n}\n\n/* ---QR编辑器--- */\n.popup:has(#qr--modalEditor)\n.popup-content\n> #qr--modalEditor\n> #qr--main\n> .qr--modal-messageContainer\n> #qr--modal-messageHolder\n> #qr--modal-message {\ncolor: var(--text-color-main) !important;\n}\n\n.popup:has(#qr--modalEditor) .popup-content #qr--modal-message::selection {\ncolor: var(--text-color-main) !important;\n}\n\n@supports (color: rgb(from white r g b / 0.25)) {\n.popup:has(#qr--modalEditor) .popup-content #qr--modal-message::selection {\nbackground-color: rgb(from var(--theme-color-1) r g b / 0.25) !important;\n}\n}\n\n/* 高斯模糊适配 */\n@media (prefers-reduced-motion: reduce) {\n:root {\n--blur-amount: 5px; /* 减少模糊量以提高性能 */\n}\n}\n\n/* 修复部分浏览器中模糊背景颜色问题 */\n@supports not (backdrop-filter: blur(1px)) {\n#top-bar, #chat, #send_form {\nbackground-color: var(--blur-bg-light) !important; /* 备用透明背景 */\n}\n}\n\n/* 确保模糊不影响性能 */\n@media (max-width: 768px) {\n:root {\n--blur-amount: 5px; /* 移动设备上减少模糊量 */\n}\n}\n\n/* 夜间模式兼容 */\n@media (prefers-color-scheme: dark) {\n:root {\n--blur-bg-light: rgba(0, 0, 0, 0.3); /* 暗色模式下的备用背景 */\n--blur-bg-input: color-mix(in srgb, var(--theme-color-1) 40%, var(--ui-color-main) 90%); /* 暗色模式下输入栏背景更深 */\n--input-text-shadow: 0 0 1px rgba(255, 255, 255, 0.2); /* 为暗色模式下的文本添加淡淡的光晕 */\n--panel-shadow: 0 0 20px rgba(0, 0, 0, 0.45), 0 0 6px rgba(0, 0, 0, 0.3); /* 暗色模式下侧边栏阴影更强 */\n}\n}\n\n/* ---左右侧边栏优化--- */\n#left-nav-panel,\n#right-nav-panel {\ntransition: box-shadow 0.3s ease, border-color 0.3s ease; /* 添加过渡效果 */\n}\n\n/* 当鼠标悬停在侧边栏上时提供额外的视觉反馈 */\n#left-nav-panel:hover,\n#right-nav-panel:hover {\nborder-color: color-mix(in srgb, var(--theme-color-1) 40%, transparent); /* 边框颜色加深 */\n}\n\n/* 当左侧面板展开时，提供视觉反馈 */\nbody.PanelActive[lp=\"1\"] #left-nav-panel {\nbox-shadow: 8px 0 25px rgba(0, 0, 0, 0.3), 0 0 10px rgba(0, 0, 0, 0.2); /* 右侧阴影更强 */\n}\n\n/* 当右侧面板展开时，提供视觉反馈 */\nbody.PanelActive[rp=\"1\"] #right-nav-panel {\nbox-shadow: -8px 0 25px rgba(0, 0, 0, 0.3), 0 0 10px rgba(0, 0, 0, 0.2); /* 左侧阴影更强 */\n}\n\n/* 为侧边栏内容添加滚动时的渐变遮罩 */\n.fillLeft::after,\n.fillRight::after {\ncontent: \"\";\nposition: absolute;\nbottom: 0;\nleft: 0;\nwidth: 100%;\nheight: 30px;\nbackground: linear-gradient(to top, var(--ui-color-main), transparent);\npointer-events: none;\nz-index: 1; /* 确保在内容之上 */\n}\n\n/* 侧边栏滚动优化 */\n#left-nav-panel .scrollableInner::after,\n#right-nav-panel .scrollableInner::after {\ncontent: \"\";\nposition: absolute;\nbottom: 0;\nleft: 0;\nwidth: 100%;\nheight: 30px;\nbackground: linear-gradient(to top, var(--ui-color-main), transparent);\npointer-events: none;\nz-index: 1;\n}\n\n/* 正则管理器条目样式优化 */\n.regex-script-container,\n.regex-wrapper,\n#regex_settings .regex-row,\n#regex_settings .script-row,\n#rm_info_regex .regex-row,\n#rm_info_regex .script-row {\njustify-content: flex-start !important; /* 左对齐 */\nwidth: 95% !important; /* 宽度缩小，右侧留出空间 */\npadding-right: 15px; /* 右侧内边距 */\n}\n\n/* 确保在所有媒体查询下侧边栏宽度保持一致 */\n@media screen and (max-width: 1000px) {\n#left-nav-panel,\n#right-nav-panel {\nwidth: 380px !important;\nmargin-top: var(--top-distance);\n}\n}\n\n/* 修复移动设备上可能出现的溢出问题 */\n@media screen and (max-width: 768px) {\n#left-nav-panel,\n#right-nav-panel {\nwidth: 90vw !important;\nmax-width: 380px;\n}\n",
    "bogus_folders": true,
    "zoomed_avatar_magnification": "",
    "reduced_motion": false,
    "compact_input_area": true,
    "show_swipe_num_all_messages": false,
    "click_to_edit": false,
    "media_display": "list"
}